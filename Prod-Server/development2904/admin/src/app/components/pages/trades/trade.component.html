<div class="main-content">
  <div class="row">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h4>Upload Trade Image</h4>
        </div>  
        <div class="card-body">
          <!-- Image Preview -->
          <div class="image-preview mb-3" *ngIf="imagePreview">
            <img [src]="imagePreview" alt="Preview" class="img-fluid">
          </div>

          <!-- Upload Form -->
          <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <label for="imageInput" class="form-label">Select Image</label>
              <input 
                type="file" 
                class="form-control" 
                id="imageInput" 
                (change)="onFileSelect($event)"
                accept="image/*"
                formControlName="image">
            </div>
            <div class="mt-3">
              <button 
                type="submit" 
                class="btn btn-primary"
                [disabled]="!uploadForm.valid || isUploading">
                {{ isUploading ? 'Uploading...' : 'Upload Image' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Display Uploaded Images -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h4>Uploaded Images</h4>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-12">
              <div class="position-relative">
                <!-- Preview section -->
                <!-- <div class="preview-section" *ngIf="imagePreview">
                    <img [src]="imagePreview" alt="Preview" class="img-fluid">
                </div>
                 -->
                <!-- Uploaded image section -->
                <div class="uploaded-image" *ngIf="uploadedImages">
                    <img [src]="'data:' + uploadedImages.contentType + ';base64,' + uploadedImages.imageData" 
                         [alt]="uploadedImages.filename"
                         class="img-fluid">
                    <div class="image-info">
                        <p>Filename: {{uploadedImages.filename}}</p>
                        <button class="btn btn-danger" (click)="deleteImage(uploadedImages._id)">Delete</button>
                    </div>
                </div>
                
                <!-- No images message -->
                <div *ngIf="!uploadedImages" class="no-images">
                    <p>No trade images uploaded yet.</p>
                </div>
                <!-- <img [src]="uploadedImages?.imageData" 
                     alt="Team Image" 
                     class="img-fluid rounded">
                <button class="btn btn-danger btn-sm position-absolute top-0 end-0 m-2"
                  (click)="deleteImage(uploadedImages._id)">
                  <i class="fas fa-trash"></i>
                </button> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>